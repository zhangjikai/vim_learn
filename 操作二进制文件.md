## 操作二进制文件

* __打开文件时需要加上`-b`选项, 否则会在文件后面加上0x0a__
```bash
vim -b filename
```
* __在命令模式下输入面的命令, 使用xxd转换成十六进制格式__
```bash
:%!xxd
```
其中`%`表示当前文件的路径, `!`表示执行一次shell命令, 然后就可以以16进制的格式修改文件

* __ 修改完成后,需要执行下面的命令将十六进制转为二进制再保存__ 
```bash
:%!xxd -r
:w
```

---
vim 编辑二进制实际上使用的是xxd, 下面是xxd的一些选项
* -b : 以二进制的格式打开文件, 在vim中不要使用这个选项, 因为使用-r还原为二进制的时候还是按十六进制还原的
* -g : 输出时每组的8位字节数, 默认是2
```c
// -g 0
0000000: 00000000010000000200000003000000  ................
// -g 1
0000000: 00 00 00 00 01 00 00 00 02 00 00 00 03 00 00 00  ................
// -g 2
0000000: 0000 0000 0100 0000 0200 0000 0300 0000  ................
```
* -r : 将十六进制转换为二进制